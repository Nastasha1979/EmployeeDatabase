USE [EMP_MGMT] 
GO
--To create Division Table
CREATE TABLE DIVISION(
	DIV_ID				INT 			NOT NULL 	UNIQUE,
	DIVISION_NAME		NVARCHAR(50)	NOT NULL,
	PRIMARY KEY(DIV_ID));
	
	
--TO CREATE DEPARTMENT TABLE
CREATE TABLE DEPARTMENT(
	DEPT_ID				INT				NOT NULL 	UNIQUE,
	DPT_NAME			NVARCHAR(50)	NOT NULL,
	DIV_ID				INT				NULL,
	CONSTRAINT PK_DEPARTMENT PRIMARY KEY (DEPT_ID),
	FOREIGN KEY (DIV_ID) REFERENCES DIVISION ON UPDATE CASCADE);
	
--TO CREATE POSITION TABLE
CREATE TABLE POSITION(
	POS_ID				INT				NOT NULL	UNIQUE,
	POSITION_NAME		NVARCHAR(50)	NOT NULL,
	CONSTRAINT PK_POSITION PRIMARY KEY (POS_ID));
	
--TO CREATE REGION TABLE
CREATE TABLE REGION(
	REG_ID				INT				NOT NULL	UNIQUE,
	REGION_NAME			NVARCHAR(25)	NOT NULL,
	STREET_ADDRESS		NVARCHAR(100)	NULL,
	STREET_ADDRESS_TWO	NVARCHAR(100)	NULL,
	CITY				NVARCHAR(100)	NULL,
	STATE_ABBR			NCHAR(2)		NULL,
	ZIP_CODE			NCHAR(5)		NULL,
	PHONE				NCHAR(12)		NULL,
	CONSTRAINT PK_REGION PRIMARY KEY (REG_ID));
	
--TO CREATE EMPLOYEE TYPE TABLE
CREATE TABLE EMPLOYEE_TYPE(
	EMP_TYPE_ID			NCHAR(2)			NOT NULL	UNIQUE,
	EMP_TYPE			NVARCHAR(25)		NOT NULL
	CONSTRAINT PK_EMP_TYPE	PRIMARY KEY (EMP_TYPE_ID));
	
--TO CREATE EMPLOYEE TABLE
CREATE TABLE EMPLOYEE(
	EMP_ID				INT				NOT NULL 	UNIQUE,
	FIRST_NAME			NVARCHAR(50)	NOT NULL,
	LAST_NAME			NVARCHAR(50)	NOT NULL,
	MIDDLE_NAME			NVARCHAR(50)	NULL,
	STREET_ADDRESS		NVARCHAR(100)	NULL,
	STREET_ADDRESS_TWO	NVARCHAR(100)	NULL,
	CITY				NVARCHAR(100)	NOT NULL,
	STATE_ABBR			NVARCHAR(2)		NOT NULL,
	ZIP_CODE			NCHAR(5)		NULL,
	PHONE				NCHAR(12)		NULL,
	EMAIL				NVARCHAR(50)	NULL,
	STATUS				NCHAR(1)		NOT NULL,
	POS_ID				INT				NULL,
	DEPT_ID				INT				NULL,
	REG_ID				INT				NULL,
	EMP_TYPE_ID			NCHAR(2)		NULL,
	CONSTRAINT PK_EMPLOYEE PRIMARY KEY (EMP_ID),
	FOREIGN KEY (POS_ID) REFERENCES POSITION ON UPDATE CASCADE,
	FOREIGN KEY (DEPT_ID) REFERENCES DEPARTMENT ON UPDATE CASCADE,
	FOREIGN KEY (REG_ID) REFERENCES REGION ON UPDATE CASCADE,
	FOREIGN KEY (EMP_TYPE_ID) REFERENCES EMPLOYEE_TYPE ON UPDATE CASCADE);
	
--TO CREATE EMPLOYEE_CLASS TABLE
CREATE TABLE EMPLOYEE_CLASS(
	EMP_CLASS_ID 		INT				NOT NULL	UNIQUE,
	EMP_CLASS_NAME		NVARCHAR(100)	NOT NULL
	PRIMARY KEY(EMP_CLASS_ID));
	
CREATE TABLE EMPLOYEE_CLASSES(
	EMP_CLASSES_ID		INT				NOT NULL	UNIQUE,
	EMP_CLASS_ID		INT				NOT NULL,
	EMP_ID				INT				NOT NULL
	CONSTRAINT PK_EMPLOYEEE_CLASSES PRIMARY KEY (EMP_CLASSES_ID),
	FOREIGN KEY (EMP_CLASS_ID) REFERENCES EMPLOYEE_CLASS ON UPDATE CASCADE,
	FOREIGN KEY (EMP_ID) REFERENCES EMPLOYEE ON UPDATE CASCADE);
	
--TO CREATE TRAINING TABLE
CREATE TABLE TRAINING(
	TRAIN_ID			INT				NOT NULL 	UNIQUE,
	COURSE_NAME			NVARCHAR(100)	NOT NULL,
	FREQUENCY			NVARCHAR(25)	NOT NULL,
	EMP_CLASS_ID		INT				NOT NULL,
	CONSTRAINT PK_TRAINING PRIMARY KEY (TRAIN_ID),
	FOREIGN KEY (EMP_CLASS_ID) REFERENCES EMPLOYEE_CLASSES ON UPDATE CASCADE);
	
--TO CREATE TRAINING STATUS TABLE
CREATE TABLE TRAINING_STATUS(
	TRAIN_STAT_ID		NVARCHAR(25)	NOT NULL	UNIQUE,
	TRAIN_ID			INT				NULL,
	EMP_ID				INT				NOT NULL,
	DATE_STARTED		DATE			NULL,
	DATE_COMPLETED		DATE			NULL,
	CONSTRAINT PK_TRAINING_STATUS PRIMARY KEY (TRAIN_STAT_ID),
	FOREIGN KEY (TRAIN_ID) REFERENCES TRAINING ON UPDATE NO ACTION,
	FOREIGN KEY (EMP_ID) REFERENCES EMPLOYEE ON UPDATE NO ACTION);
	
--TO CREATE EDUCATION TYPE TABLE
CREATE TABLE EDUCATION_TYPE(
	EDU_TYPE_ID			INT				NOT NULL	UNIQUE,
	EDUCATION_TYPE		NVARCHAR(100)	NOT NULL,
	CONSTRAINT PK_EDU_TYPE	PRIMARY KEY (EDU_TYPE_ID));
	
--TO CREATE EDUCATION TABLE
CREATE TABLE EDUCATION(
	EDU_ID				INT				NOT NULL	UNIQUE,
	EDU_TYPE_ID			INT				NOT NULL,
	EMP_ID				INT				NOT NULL,
	CONSTRAINT PK_EDUCATION PRIMARY KEY (EDU_ID),
	FOREIGN KEY (EMP_ID) REFERENCES EMPLOYEE ON UPDATE CASCADE);
	
--TO CREATE PAY TABLE
CREATE TABLE PAY(
	PAY_ID				INT				NOT NULL 	UNIQUE,
	EMP_ID				INT				NOT NULL,
	HOURLY_RATE			MONEY			NULL,
	ANNUAL_PAY			MONEY			NULL,
	START_DATE			DATE			NULL,
	END_DATE			DATE			NULL,
	CONSTRAINT PK_PAY PRIMARY KEY (PAY_ID),
	FOREIGN KEY (EMP_ID) REFERENCES EMPLOYEE ON UPDATE CASCADE);
